<div class="max-w-7xl mx-auto px-4 py-8">
  <h1 class="text-red-400 font-black text-4xl mb-8">Books</h1>

  <div class="grid gap-8 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">

    <% @books.each do |book| %>
      <div class="p-4 rounded shadow-md flex flex-col overflow-hidden bg-white h-full">

        <% if book.cover.present? %>
          <img src="<%= book.cover %>" alt="<%= book.title %> cover" class="h-full w-full object-cover rounded mb-4">
        <% end %>

        <h2 class="text-red-400 font-bold text-md mb-1 truncate" title="<%= book.title %>"><%= book.title %></h2>
        <p class="text-gray-700 text-xs mb-3 truncate" title="<%= book.author %>"><%= book.author %></p>

        <div class="flex justify-between items-center">
          <p class="text-xs mt-auto"><strong>Available Copies:</strong> <%= book.book_copies.available.count %></p>
          <%= link_to "Rent",
            new_rental_path(book_id: book.id),
            data: { turbo_frame: "modal" },
            class: "px-4 py-1 bg-red-400 text-xs text-white rounded-lg shadow hover:bg-red-500 
              focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition" %>
        </div>
      </div>
    <% end %>

  </div>
</div>
